# Podfile for Flutter project

platform :ios, '13.0'

use_frameworks! :linkage => :static
use_modular_headers!

# Prevent Cocoapods from embedding duplicated frameworks
install! 'cocoapods', :disable_input_output_paths => true

flutter_application_path = '../'
eval(File.read(File.join(flutter_application_path, '.flutter-plugins-dependencies')))

target 'Runner' do
  use_frameworks! :linkage => :static
  use_modular_headers!

  flutter_application_path = '../'
  eval(File.read(File.join(flutter_application_path, '.flutter-plugins')))

  # Pods for Runner
  # Firebase pods are typically managed by Flutter's plugin system.
  # If you explicitly need specific Firebase versions, uncomment and manage them here.
  # Otherwise, let Flutter handle them via .flutter-plugins and .flutter-plugins-dependencies.
  # pod 'Firebase/Core'
  # pod 'Firebase/Messaging'

  # This line is usually handled by Flutter's podhelper.rb or .flutter-plugins
  # pod 'Flutter', :path => File.join(flutter_application_path, 'ios', 'Flutter')

  # Flipper is a debugging tool. If you don't need it for release builds, it's best to remove it.
  # If you need it, ensure its version is compatible with your project's dependencies.
  # use_flipper!({ 'Flipper-Folly' => '2.6.7' }) # ممكن تشيلها لو مش محتاج Debug
end

post_install do |installer|
  installer.pods_project.targets.each do |target|
    flutter_additional_ios_build_settings(target)
    target.build_configurations.each do |config|
      config.build_settings['EXCLUDED_ARCHS[sdk=iphonesimulator*]'] = 'arm64'
    end
  end
end


